{% extends "layout/base.html" %}
{% load staticfiles %}

{% block header %}

{% endblock header %}

{% block content %}
    <div>
        Created By:
        <p> Name: {{object.owner.first_name}} {{object.owner.last_name}} </p>
        <p> Email: {{object.owner.email}}</p>
    </div>
    <div>
        Description:
        {{object.description}}
    </div>
    <div>
        The following people will receive the messages:
        {% for recipient in object.recipients.all %}
            <p> Name: {{recipient.first_name}} {{recipient.last_name}}</p>
            <p> Email: {{recipient.email}}</p>
            <p> Key fingerprint: {{recipient.fingerprint}}</p>
            <div class="hidden public-key-js">{{recipient.public_key}}</div>
        {% endfor %}
    </div>
    <div>
        <form id="box" action="{% url 'boxes_show' object.uuid %}" method="post" class="form__wrap">
            {% csrf_token %}
            {{form.as_p}}
            <input type="submit" class="btn-default" value="Encrypt and Send">
        </form>
    </div>
{% endblock content %}

{% block scripts %}
{{super}}
<script src="{% static 'javascripts/openpgp.min.js' %}"></script>
<script src="{% static 'javascripts/encryptor.js' %}"></script>
{% endblock scripts %}
